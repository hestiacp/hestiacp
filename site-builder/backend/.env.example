# ===========================================
# CONFIGURATION DU SITE BUILDER HESTIACP
# ===========================================
#
# Copier ce fichier vers .env :
#   cp .env.example .env
#
# Puis modifier les valeurs ci-dessous.
#
# ===========================================

# ============================================
# 1. SERVEUR
# ============================================
NODE_ENV=development
PORT=3001

# URL du frontend (pour CORS et redirections)
# En dev: http://localhost:5173
# En prod: https://builder.votre-domaine.com
FRONTEND_URL=http://localhost:5173

# ============================================
# 2. BASE DE DONNÉES POSTGRESQL
# ============================================
# 
# Créer la base avec ces commandes :
#   sudo -u postgres psql
#   CREATE USER site_builder_user WITH PASSWORD 'votre_mot_de_passe';
#   CREATE DATABASE site_builder OWNER site_builder_user;
#   GRANT ALL PRIVILEGES ON DATABASE site_builder TO site_builder_user;
#   \q
#
DB_HOST=localhost
DB_PORT=5432
DB_NAME=site_builder
DB_USER=site_builder_user
DB_PASSWORD=CHANGEZ_MOI_mot_de_passe_securise

# ============================================
# 3. AUTHENTIFICATION JWT
# ============================================
#
# Générer une clé secrète avec :
#   openssl rand -hex 64
#
JWT_SECRET=CHANGEZ_MOI_cle_secrete_jwt_generee_avec_openssl
JWT_EXPIRES_IN=7d

# ============================================
# 4. SSO HESTIACP (IMPORTANT!)
# ============================================
#
# Ce secret DOIT ÊTRE IDENTIQUE dans :
# - Ce fichier .env
# - /usr/local/hestia/web/inc/sitebuilder.php
#
# Générer avec : openssl rand -hex 32
#
HESTIA_SSO_SECRET=CHANGEZ_MOI_secret_sso_partage

# ============================================
# 5. PUBLICATION DES SITES
# ============================================
#
# Chemin où seront publiés les fichiers HTML/CSS/JS
# {USERNAME} et {DOMAIN} seront remplacés automatiquement
#
# Chemin HestiaCP standard :
PUBLISH_BASE_PATH=/home/{USERNAME}/web/{DOMAIN}/public_html

# Chemin alternatif (si différent) :
# PUBLISH_BASE_PATH=/var/www/vhosts/{DOMAIN}/httpdocs

# ============================================
# 6. LOGS (optionnel)
# ============================================
LOG_LEVEL=info
# LOG_FILE=./logs/app.log

# ============================================
# 7. SÉCURITÉ (production)
# ============================================
# Activer en production avec HTTPS
SECURE_COOKIES=false

# Rate limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
